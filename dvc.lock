schema: '2.0'
stages:
  get_preprint_data_medrxiv:
    cmd: python preprint_revisions/get_preprint_data.py --start_date 2019-01-01 --end_date
      2023-07-01 --filename "extracted_medrxiv.json" --server "medrxiv"
    deps:
    - path: preprint_revisions/get_preprint_data.py
      md5: cb6f9f059dffdf4c50e32e686d72efd3
      size: 1951
    outs:
    - path: data/extracted_medrxiv.json
      md5: 925bfb9cfca00812d417bc7929dfe5e6
      size: 143589729
  get_revisions_medrxiv:
    cmd: python preprint_revisions/get_revisions.py --preprint-data-file "extracted_medrxiv.json"
    deps:
    - path: data/extracted_medrxiv.json
      md5: 925bfb9cfca00812d417bc7929dfe5e6
      size: 143589729
    - path: data/medrxiv_urls.json
      md5: 94787d8c7dd57019b2bb9a3cd854d58f
      size: 3040584
    - path: preprint_revisions/get_revisions.py
      md5: 9552332b93260ff3fb29741ad161ab15
      size: 4688
    outs:
    - path: data/revision_dict_medrxiv.json
      md5: 5feb745bd648e9c0723c82a4c51afeae
      size: 1870802
  process_data_medrxiv:
    cmd: python preprint_revisions/process_data.py --preprint-data-file "extracted_medrxiv.json"
      --revision-data-file "revision_dict_medrxiv.json"
    deps:
    - path: data/extracted_medrxiv.json
      md5: 925bfb9cfca00812d417bc7929dfe5e6
      size: 143589729
    - path: data/revision_dict_medrxiv.json
      md5: 5feb745bd648e9c0723c82a4c51afeae
      size: 1870802
    - path: preprint_revisions/get_revisions.py
      md5: 9552332b93260ff3fb29741ad161ab15
      size: 4688
    outs:
    - path: data/preprint_revision_df_medrxiv.csv
      md5: e615f74a4aa8576ac737c81150553e2e
      size: 133077794
  get_revision_statistics_medrxiv:
    cmd: python preprint_revisions/generate_revision_statistics.py --data-file "preprint_revision_df_medrxiv.csv"
    deps:
    - path: data/preprint_revision_df_medrxiv.csv
      md5: e615f74a4aa8576ac737c81150553e2e
      size: 133077794
    - path: preprint_revisions/generate_revision_statistics.py
      md5: 31b5ca5deccd6e4c59b2a978257795ac
      size: 15699
    outs:
    - path: results/medrxiv/changes_stats.json
      md5: 5af3596f219499a6778cd3def48f9c3a
      size: 163
    - path: results/medrxiv/num_versions.json
      md5: a21e0430c3324cbfc006707b4a467463
      size: 144
    - path: results/medrxiv/preprints_over_time.png
      md5: e1e9f4f8baa4d2b2a8abca77b312bda1
      size: 45814
    - path: results/medrxiv/proportion_revisions.png
      md5: 75dc4ce45768cb460e9f064102313f19
      size: 42616
    - path: results/medrxiv/proportion_revisions_with_text.png
      md5: df43a029907258225044736d02acdeb5
      size: 41284
    - path: results/medrxiv/revision_text_length.png
      md5: a6355c698e6dba08b06219cf1b8205b1
      size: 32872
    - path: results/medrxiv/revision_text_stats.json
      md5: 73f7a6049593c16ba48bbd88d0b25e28
      size: 44
    - path: results/medrxiv/revision_time_stats.json
      md5: 9804af523d2c194213b14234f07aafe4
      size: 71
    - path: results/medrxiv/revision_times.png
      md5: 1321ed4c2fec2f92e11b8f962fffb7e6
      size: 23173
    - path: results/medrxiv/revision_times_most_revised.png
      md5: 29ac79c6780395d82e19b2e50c1508c7
      size: 52111
    - path: results/medrxiv/revision_traces.json
      md5: 06464562e8c1ee66eb6df99552906a12
      size: 1282392
