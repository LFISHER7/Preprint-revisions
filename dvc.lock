schema: '2.0'
stages:
  get_preprint_data_biorxiv:
    cmd: python preprint_revisions/get_preprint_data.py --start_date 2022-01-01 --end_date
      2022-01-10 --filename "extracted_biorxiv.json" --server "biorxiv"
    deps:
    - path: preprint_revisions/get_preprint_data.py
      md5: 6665e04d33d8dc816d975054fceb9eab
      size: 2001
    outs:
    - path: data/extracted_biorxiv.json
      md5: 3c37e270bba9913d9c1a46b63653f064
      size: 1157659
  get_urls_biorxiv:
    cmd: python preprint_revisions/get_sitemaps.py --server biorxiv
    outs:
    - path: data/biorxiv_urls.json
      md5: 42c425a853f7920dc7fd3a17b2575d5f
      size: 14207942
  get_revisions_biorxiv:
    cmd: python preprint_revisions/get_revisions.py --server "biorxiv"
    deps:
    - path: data/biorxiv_urls.json
      md5: 42c425a853f7920dc7fd3a17b2575d5f
      size: 14207942
    - path: data/extracted_biorxiv.json
      md5: 3c37e270bba9913d9c1a46b63653f064
      size: 1157659
    - path: preprint_revisions/get_revisions.py
      md5: 6f54f16a50b39ca57e23ca9c24757489
      size: 3103
    outs:
    - path: data/revision_dict_biorxiv.json
      md5: 99914b932bd37a50b983c5e7c90ae93b
      size: 2
  get_preprint_data_medrxiv:
    cmd: python preprint_revisions/get_preprint_data.py --start_date 2022-01-01 --end_date
      2022-02-01 --filename "extracted_medrxiv.json" --server "medrxiv"
    deps:
    - path: preprint_revisions/get_preprint_data.py
      md5: f14a2add57522cd551f94522392245bc
      size: 2005
    outs:
    - path: data/extracted_medrxiv.json
      md5: 01a07e46120c4784be4dc7e5ef7357e1
      size: 3577826
  get_urls_medrxiv:
    cmd: python preprint_revisions/get_sitemaps.py --server medrxiv
    deps:
    - path: preprint_revisions/get_sitemaps.py
      md5: c944505a3954603a1441a84cc9294332
      size: 1968
    outs:
    - path: data/medrxiv_urls.json
      md5: 6fb45a964bf2928c5251521ceaa5e583
      size: 3038920
  get_revisions_medrxiv:
    cmd: python preprint_revisions/get_revisions.py --data-file "extracted_medrxiv.json"
    deps:
    - path: data/extracted_medrxiv.json
      md5: 01a07e46120c4784be4dc7e5ef7357e1
      size: 3577826
    - path: data/medrxiv_urls.json
      md5: 94787d8c7dd57019b2bb9a3cd854d58f
      size: 3040584
    - path: preprint_revisions/get_revisions.py
      md5: 7e0677c88aa78f11e3f7d54c8a2a0490
      size: 3654
    outs:
    - path: data/revision_dict_medrxiv.json
      md5: f90ca018deb60aa718d3695a9a2c5a6c
      size: 72476
  cluster_medrxiv:
    cmd: python preprint_revisions/cluster.py --server "medrxiv"
    deps:
    - path: data/revision_dict_medrxiv.json
      md5: 3d5367d5bad912a8643888aa654f39f7
      size: 12639
    - path: preprint_revisions/cluster.py
      md5: db5c849ddc5cdb1983e1f3a77c570c20
      size: 6254
    outs:
    - path: data/cluster_dict_medrxiv.json
      md5: 41b3699fe1322a0b958ce052b6b61f7d
      size: 41
    - path: data/clusters_medrxiv.png
      md5: 4738d297c0a6787bc3b9718a11da0b27
      size: 2396
  cluster_biorxiv:
    cmd: python preprint_revisions/cluster.py --server "biorxiv"
    deps:
    - path: data/revision_dict_biorxiv.json
      md5: 99914b932bd37a50b983c5e7c90ae93b
      size: 2
    - path: preprint_revisions/cluster.py
      md5: a25823d9ae058bec829ac5ec83dc8b7a
      size: 6007
    outs:
    - path: data/cluster_dict_biorxiv.json
      md5: 41b3699fe1322a0b958ce052b6b61f7d
      size: 41
    - path: data/clusters_biorxiv.png
      md5: 4738d297c0a6787bc3b9718a11da0b27
      size: 2396
  get_revision_stats_medrxiv:
    cmd: python preprint_revisions/revision_text_statistics.py --server "medrxiv"
    deps:
    - path: data/extracted_medrxiv.json
      md5: 68fa8c2c9f63aa50d6848b7685b4955c
      size: 2080693
    - path: data/revision_dict_medrxiv.json
      md5: 3d5367d5bad912a8643888aa654f39f7
      size: 12639
    - path: preprint_revisions/revision_text_statistics.py
      md5: ce82b595153acfd8105dd6dfa4b06112
      size: 3560
    outs:
    - path: data/merged_df_medrxiv.csv
      md5: 3d80765ce63ca8bc92f678dbea500be4
      size: 374319
    - path: results/proportion_revisions_with_text_medrxiv.png
      md5: 47992f0459982a4eb224558264308c95
      size: 14444
    - path: results/revision_text_statistics_medrxiv.png
      md5: c9d3b18ded9f4dcb5bdafdecb2f1e9de
      size: 20484
  get_revision_times_medrxiv:
    cmd: python preprint_revisions/revision_time.py --preprint-data-file "extracted_medrxiv.json"
      --revision-data-file "revision_dict_medrxiv.json"
    deps:
    - path: data/extracted_medrxiv.json
      md5: 01a07e46120c4784be4dc7e5ef7357e1
      size: 3577826
    - path: preprint_revisions/revision_time.py
      md5: 61dadfdc09f7c4e183319639bfe14f81
      size: 7908
    outs:
    - path: results/number_of_revisions_medrxiv.png
      md5: 228c4ee772fcb67abf3c7f17f82c65fa
      size: 15616
    - path: results/proportion_revisions_medrxiv.png
      md5: 24af12255f0c02f0c18e8f00f94c75ae
      size: 24573
    - path: results/revision_times_medrxiv.png
      md5: 475f61b855d560ac1869b2c32cdda9da
      size: 18300
    - path: results/revision_times_medrxiv_most_revised.png
      md5: 498428c5afc0345bbb009f9fd16df943
      size: 45736
    - path: results/revision_traces_medrxiv.json
      md5: 8b877a32a801f17566a2d6c83191a68c
      size: 3093
    - path: results/revisions_over_time_medrxiv.png
      md5: bbcfb1badea6d29cafbcc2d50cf9f08b
      size: 19194
