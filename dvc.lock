schema: '2.0'
stages:
  get_preprint_data_medrxiv:
    cmd: python preprint_revisions/get_preprint_data.py --start_date 2019-01-01 --end_date
      2024-07-01 --filename "extracted_medrxiv.json" --server "medrxiv"
    deps:
    - path: preprint_revisions/get_preprint_data.py
      md5: cb6f9f059dffdf4c50e32e686d72efd3
      size: 1951
    outs:
    - path: data/extracted_medrxiv.json
      md5: 936943f1537b3dce016f96af2d5d5401
      size: 182605123
  get_revisions_medrxiv:
    cmd: python preprint_revisions/get_revisions.py --preprint-data-file "extracted_medrxiv.json"
    deps:
    - path: data/extracted_medrxiv.json
      md5: 936943f1537b3dce016f96af2d5d5401
      size: 182605123
    - path: preprint_revisions/get_revisions.py
      md5: 429972c4d4183d1fd95bbae54738174e
      size: 4680
    outs:
    - path: data/revision_dict_medrxiv.json
      md5: 0f5a625aa74f33ef9c8604e5d3bd850e
      size: 2444783
  process_data_medrxiv:
    cmd: python preprint_revisions/process_data.py --preprint-data-file "extracted_medrxiv.json"
      --revision-data-file "revision_dict_medrxiv.json"
    deps:
    - path: data/extracted_medrxiv.json
      md5: 936943f1537b3dce016f96af2d5d5401
      size: 182605123
    - path: data/revision_dict_medrxiv.json
      md5: 0f5a625aa74f33ef9c8604e5d3bd850e
      size: 2444783
    - path: preprint_revisions/get_revisions.py
      md5: 429972c4d4183d1fd95bbae54738174e
      size: 4680
    outs:
    - path: data/preprint_revision_df_medrxiv.csv
      md5: 95bbadbd00093b001f5f2a0292748bea
      size: 169505425
  get_revision_statistics_medrxiv:
    cmd: python preprint_revisions/generate_revision_statistics.py --data-file "preprint_revision_df_medrxiv.csv"
    deps:
    - path: data/preprint_revision_df_medrxiv.csv
      md5: cd5363fd8fbf43886665cdc06ad6ce07
      size: 133069109
    - path: preprint_revisions/generate_revision_statistics.py
      md5: ff3324952d6cab42137301e36de0fc0c
      size: 19129
    outs:
    - path: data/medrxiv_revision_traces.json
      md5: ff4e59e6aa94720e42970ebba916dc96
      size: 1462898
    - path: results/medrxiv/changes_stats.json
      md5: 2a4dd06b777ad9ce45035b54a59d6ae2
      size: 164
    - path: results/medrxiv/num_versions.json
      md5: 63d060eef301efb2d562772cce75d38e
      size: 164
    - path: results/medrxiv/preprints_over_time.png
      md5: 1d1b973edfd66172d36c0faa00024274
      size: 47482
    - path: results/medrxiv/proportion_revisions.png
      md5: 003ab5b1f67079c5d03213fce2403e48
      size: 42404
    - path: results/medrxiv/proportion_revisions_with_text.png
      md5: a2e6eacc72372cd2ec8cef5a6f0c9c5f
      size: 41896
    - path: results/medrxiv/revision_text_length.png
      md5: 923843213812e1c5037c5ae0b1548847
      size: 26442
    - path: results/medrxiv/revision_text_stats.json
      md5: 75218bc84a778eca7ff6bcdf6da6a5e7
      size: 43
    - path: results/medrxiv/revision_time_stats.json
      md5: eca805e55f89b8e9cd797eba08571d7d
      size: 70
    - path: results/medrxiv/revision_times.png
      md5: 1809602d172048914bd8a1a8018fefa4
      size: 21247
    - path: results/medrxiv/revision_times_most_revised.png
      md5: 0d57bd943c6c48755faf13ab383894e6
      size: 55713
